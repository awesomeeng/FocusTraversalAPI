!function(){var n=function(n,e){if(!n)throw new Error("Invalid element.");return n.firstElementChild||e&&n.shadowRoot&&n.shadowRoot.firstElementChild||null},e=n,t=function(n,e){if(!n)throw new Error("Invalid element.");return e&&n.shadowRoot&&n.shadowRoot.lastElementChild||n.lastElementChild||null},r=t,o=function(n,e){if(!n)throw new Error("Invalid element.");return n.parentElement||e&&n.parentNode instanceof DocumentFragment&&n.parentNode.host||null},i=function(n,t){if(!n)throw new Error("Invalid element.");for(;;){var r=e(n,t);if(!r)break;n=r}return n},a=function(n,e){if(!n)throw new Error("Invalid element.");for(;;){var t=r(n,e);if(!t)break;n=t}return n},u=function(n,e){if(!n)throw new Error("Invalid element.");var t=n.firstElementChild||null;if(t)return t;if(e&&n.shadowRoot&&n.shadowRoot.firstElementChild||null)return n.shadowRoot.firstElementChild;var r=n.nextElementSibling||null;if(r)return r;for(var i=n;;){if(!(i=o(i,e))||i===n)return null;if(r=i.nextElementSibling)return r}},l=function(n,e){if(!n)throw new Error("Invalid element.");var t=n.previousElementSibling;if(t)return a(t,e);var r=e&&!n.parentElement&&n.parentNode&&n.parentNode instanceof DocumentFragment&&n.parentNode.host||null;return r&&r.lastElementChild?i(r.lastElementChild,e):o(n,e)},f=function(n,e){if(!n)throw new Error("Invalid element.");for(var t=[],r=n;r&&(r=o(r,e));)t.push(r);return t},c=function(n,e){if(!n)throw new Error("Invalid element.");for(var t=[],r=n;r&&(r=u(r,e))&&r!==n&&s(n,r,e);)t.push(r);return t},s=function(n,e,t){return!!(n||n instanceof HTMLElement)&&(!!(e||e instanceof HTMLElement)&&(t?f(e,!0).indexOf(n)>-1:n.contains(e)))},d={first:n,last:t,up:o,down:n,downLast:t,next:u,forward:u,prev:l,previous:l,backward:l,top:function(n,e){if(!n)throw new Error("Invalid element.");for(;;){var t=o(n,e);if(!t)break;n=t}return n},bottom:i,bottomLast:a,descendants:function n(e,t){if(!e)throw new Error("Invalid element.");var r=[];Array.prototype.slice.call(e.children).forEach(function(e){r=r.concat(e,n(e,t))}),t&&e.shadowRoot&&Array.prototype.slice.call(e.shadowRoot.children).forEach(function(e){r=r.concat(e,n(e,t))});return r},ancestors:f,forwardList:c,backwardList:function(n,e){if(!n)throw new Error("Invalid element.");return c(n,e).reverse()},contains:s};"undefined"!=typeof module&&module&&module.exports&&(module.exports=d),"undefined"!=typeof window&&window&&(window.DOMTraversal=window.DOMTraversal||d)}(),function(){if("undefined"!=typeof window&&!window.focusManager){var n=window.DOMTraversal,e=[],t=50,r=null,o=document.activeElement||null,i=[],a=[],u=null,l=1e6,f=function(e){if(!e)return!1;if(!(e instanceof HTMLElement))return!1;for(var t=n.ancestors(e,!0).reverse(),r=0;r<t.length;r++){var o=t[r];if(o&&o instanceof HTMLElement){if(!0===(o.inert||!1))return!1;var i=window.getComputedStyle(o);if("none"===i.display)return!1;if("hidden"===i.visibility)return!1;var a=i.opacity;if((a=a&&parseInt(a)||1)<=0)return!1}}var u=e.getAttribute("tabindex")||null;if(null!==(u=u&&+u)&&u<0)return!1;if(null!==u&&u>=0)return!0;if(e.hasAttribute("disabled",null))return!1;var l=e.tagName;if("BUTTON"===l||"INPUT"===l||"SELECT"===l||"TEXTAREA"===l)return!0;if("A"===l&&(e.hasAttribute("href")||e.hasAttribute("xlink:href")))return!0;if("AUDIO"===l&&e.hasAttribute("controls"))return!0;if("VIDEO"===l&&e.hasAttribute("controls"))return!0;var f=e.getAttribute("contenteditable");return null!==f&&!0===f},c=function(n,e,t){n&&n instanceof Element&&("boolean"==typeof e&&(t=e,e=null),u&&clearTimeout(u),u=null,!0===t?n.focus(e||{}):u=setTimeout(function(){n.focus(e||{})},0))},s=function(e){e=e||document.body;var t=n.bottom(e,!0);if(t)return f(t)?t:(t=h(t),n.contains(e,t,!0)?t:null)},d=s,h=function(e){if(e||(e=o),!(e&&e instanceof Element))return null;for(;e&&(!(e=n.forward(e,!0))||!f(e)););for(var t=0;t<a.length;t++){let n=a[t];if(n.source===e){e=n.target;break}}return e},m=function e(t){if(t||(t=o),!(t&&t instanceof Element))return null;for(;t&&(!(t=n.backward(t,!0))||!f(t)););for(var r=0;r<a.length;r++){let n=a[r];if(n.source===t){t=e(n.source);break}}return t},v=function(n,e){a=a.filter(function(t){return t.source!==n||t.target!==e||(null!==t.sourceTabIndex?n.setAttribute("tabindex",t.sourceTabIndex):n.removeAttribute("tabindex"),!1)})};document.addEventListener("DOMContentLoaded",function(){document.addEventListener("focus",function(n){var r=n.target;if(n.composedPath){var u=n.composedPath();u.length>0&&(r=u[0])}o=r;var l=i[0]||null;l&&(l.last=r),e.unshift(r),t>-1&&(e=e.slice(0,t));for(var f=0;f<a.length;f++){let n=a[f];if(n.source===r)return void c(n.target)}},!0),document.addEventListener("blur",function(e){var t=e.target;if(e.composedPath){var o=e.composedPath();o.length>0&&(t=o[0])}var a=e.relatedTarget;if(a){var u=i[0]||null;if(u&&u.last)if(n.ancestors(a,!0).indexOf(u.container)<0)return void c(u.last)}r=t},!0),document.addEventListener("keyup",function(n){if(n.shiftKey&&9===n.keyCode)for(var e=o,t=0;t<a.length;t++){let r=a[t];if(r.source===e||r.target===e)return c(m(r.source)),void n.preventDefault()}},!0)}),window.focusManager={isFocusable:f,focus:c,hasFocus:function(n){return!!(n&&n instanceof Element)&&o===n},list:function(e){return n.forwardList(e||document.body,!0).filter(function(n){return f(n)})},first:s,last:function(e){e=e||document.body;var t=n.bottomLast(e,!0);if(t)return f(t)?t:(t=m(t),n.contains(e,t,!0)?t:null)},parent:function(e){for(;e;)if(e=n.up(e,!0),f(e))return e;return null},child:d,forward:function(n){if(o){var e=h();e&&e!==o&&c(e,n||{})}},backward:function(n){if(o){var e=m();e&&e!==o&&c(e,n||{})}},next:h,previous:m,trap:function(n){if(n&&n instanceof HTMLElement&&!(i.map(function(n){return n.container}).indexOf(n)>-1)){var e={container:n,last:s(n),blur:null};i.unshift(e),c(e.last)}},untrap:function(n){if(n&&n instanceof HTMLElement&&!(i.length<1)){var e=i[0]&&i[0].container===n;i=i.filter(function(e){return e.container!==n}),e&&i[0]&&c(i[0].last)}},order:function(){var n=null;(function(n){if(!n)throw new Error("Missing array.");return n instanceof Array||(n=Array.prototype.slice.call(n)),n.reduce((n,e)=>(e instanceof Array?this.flatten(e).forEach(e=>{n.push(e)}):n.push(e),n),[])})(arguments).forEach(function(e){if("number"!=typeof e){if(e instanceof HTMLElement){let t=l++;null!==n&&(t=n++),e.setAttribute("tabindex",""+t)}}else n=e})},proxy:function(n,e){if(n&&n instanceof HTMLElement&&e&&e instanceof HTMLElement&&f(e)){v(n,e);var t=n.getAttribute("tabindex")||null;(null===(t=t&&parseInt(t)||null)||t<0)&&n.setAttribute("tabindex",0),a.push({source:n,target:e,sourceTabIndex:t}),o===n&&c(e)}},unproxy:v},Object.defineProperty(window.focusManager,"currentlyFocused",{get:function(){return o}}),Object.defineProperty(window.focusManager,"previouslyFocused",{get:function(){return r||null}}),Object.defineProperty(window.focusManager,"history",{get:function(){return[].concat(e)}}),Object.defineProperty(window.focusManager,"historyLimit",{get:function(){return t},set:function(n){n=parseInt(n),isNaN(n)||n<-1||(t=n)>-1&&(e=e.slice(0,t))}})}}();
