!function(){var n=function(n,e){if(!n)throw new Error("Invalid element.");return n.firstElementChild||e&&n.shadowRoot&&n.shadowRoot.firstElementChild||null},e=n,t=function(n,e){if(!n)throw new Error("Invalid element.");return e&&n.shadowRoot&&n.shadowRoot.lastElementChild||n.lastElementChild||null},r=t,o=function(n,e){if(!n)throw new Error("Invalid element.");return n.parentElement||e&&n.parentNode instanceof DocumentFragment&&n.parentNode.host||null},i=function(n,t){if(!n)throw new Error("Invalid element.");for(;;){var r=e(n,t);if(!r)break;n=r}return n},u=function(n,e){if(!n)throw new Error("Invalid element.");for(;;){var t=r(n,e);if(!t)break;n=t}return n},a=function(n,e){if(!n)throw new Error("Invalid element.");var t=n.firstElementChild||null;if(t)return t;if(e&&n.shadowRoot&&n.shadowRoot.firstElementChild||null)return n.shadowRoot.firstElementChild;var r=n.nextElementSibling||null;if(r)return r;for(var i=n;;){if(!(i=o(i,e))||i===n)return null;if(r=i.nextElementSibling)return r}},l=function(n,e){if(!n)throw new Error("Invalid element.");var t=n.previousElementSibling;if(t)return u(t,e);var r=e&&!n.parentElement&&n.parentNode&&n.parentNode instanceof DocumentFragment&&n.parentNode.host||null;return r&&r.lastElementChild?i(r.lastElementChild,e):o(n,e)},f=function(n,e){if(!n)throw new Error("Invalid element.");for(var t=[],r=n;r&&(r=o(r,e));)t.push(r);return t},c=function(n,e){if(!n)throw new Error("Invalid element.");for(var t=[],r=n;r&&(r=a(r,e))&&r!==n&&s(n,r,e);)t.push(r);return t},s=function(n,e,t){return!!(n||n instanceof HTMLElement)&&(!!(e||e instanceof HTMLElement)&&(t?f(e,!0).indexOf(n)>-1:n.contains(e)))},d={first:n,last:t,up:o,down:n,downLast:t,next:a,forward:a,prev:l,previous:l,backward:l,top:function(n,e){if(!n)throw new Error("Invalid element.");for(;;){var t=o(n,e);if(!t)break;n=t}return n},bottom:i,bottomLast:u,descendants:function n(e,t){if(!e)throw new Error("Invalid element.");var r=[];Array.prototype.slice.call(e.children).forEach(function(e){r=r.concat(e,n(e,t))}),t&&e.shadowRoot&&Array.prototype.slice.call(e.shadowRoot.children).forEach(function(e){r=r.concat(e,n(e,t))});return r},ancestors:f,forwardList:c,backwardList:function(n,e){if(!n)throw new Error("Invalid element.");return c(n,e).reverse()},contains:s};"undefined"!=typeof module&&module&&module.exports&&(module.exports=d),"undefined"!=typeof window&&window&&(window.DOMTraversal=window.DOMTraversal||d)}(),function(){if("undefined"!=typeof window&&!window.focusManager){var n=window.DOMTraversal,e=function(n){if(!n)throw new Error("Missing array.");return n instanceof Array||(n=Array.prototype.slice.call(n)),n.reduce(function(n,e){return e instanceof Array?this.flatten(e).forEach(function(e){n.push(e)}):n.push(e),n},[])},t=[],r=50,o=null,i=document.activeElement||null,u=[],a=[],l=null,f=1e6,c=function(e){if(!e)return!1;if(!(e instanceof HTMLElement))return!1;for(var t=n.ancestors(e,!0).reverse(),r=0;r<t.length;r++){var o=t[r];if(o&&o instanceof HTMLElement){if(!0===(o.inert||!1))return!1;var i=window.getComputedStyle(o);if("none"===i.display)return!1;if("hidden"===i.visibility)return!1;var u=i.opacity;if((u=u&&parseInt(u)||1)<=0)return!1}}var a=e.getAttribute("tabindex")||null;if(null!==(a=a&&+a)&&a<0)return!1;if(null!==a&&a>=0)return!0;if(e.hasAttribute("disabled",null))return!1;var l=e.tagName;if("BUTTON"===l||"INPUT"===l||"SELECT"===l||"TEXTAREA"===l)return!0;if("A"===l&&(e.hasAttribute("href")||e.hasAttribute("xlink:href")))return!0;if("AUDIO"===l&&e.hasAttribute("controls"))return!0;if("VIDEO"===l&&e.hasAttribute("controls"))return!0;var f=e.getAttribute("contenteditable");return null!==f&&!0===f},s=function(n,e,t){n&&n instanceof Element&&("boolean"==typeof e&&(t=e,e=null),l&&clearTimeout(l),l=null,!0===t?n.focus(e||{}):l=setTimeout(function(){n.focus(e||{})},0))},d=function(e){e=e||document.body;var t=n.bottom(e,!0);if(t)return c(t)?t:(t=h(t),n.contains(e,t,!0)?t:null)},v=d,h=function(e){if(e||(e=i),!(e&&e instanceof Element))return null;for(;e&&(!(e=n.forward(e,!0))||!c(e)););for(var t=0;t<a.length;t++){var r=a[t];if(r.source===e){e=r.target;break}}return e},m=function e(t){if(t||(t=i),!(t&&t instanceof Element))return null;for(;t&&(!(t=n.backward(t,!0))||!c(t)););for(var r=0;r<a.length;r++){var o=a[r];if(o.source===t){t=e(o.source);break}}return t},w=function(n,e){a=a.filter(function(t){return t.source!==n||t.target!==e||(null!==t.sourceTabIndex?n.setAttribute("tabindex",t.sourceTabIndex):n.removeAttribute("tabindex"),!1)})};document.addEventListener("DOMContentLoaded",function(){document.addEventListener("focus",function(n){var e=n.target;if(n.composedPath){var o=n.composedPath();o.length>0&&(e=o[0])}i=e;var l=u[0]||null;l&&(l.last=e),t.unshift(e),r>-1&&(t=t.slice(0,r));for(var f=0;f<a.length;f++){var c=a[f];if(c.source===e)return void s(c.target)}},!0),document.addEventListener("blur",function(e){var t=e.target;if(e.composedPath){var r=e.composedPath();r.length>0&&(t=r[0])}var i=e.relatedTarget;if(i){var a=u[0]||null;if(a&&a.last){var l=n.ancestors(i,!0);a.containers.reduce(function(n,e){return n||l.indexOf(e)>-1},!1)||s(a.last)}}o=t},!0),document.addEventListener("keyup",function(n){if(n.shiftKey&&9===n.keyCode)for(var e=i,t=0;t<a.length;t++){var r=a[t];if(r.source===e||r.target===e)return s(m(r.source)),void n.preventDefault()}},!0)}),window.focusManager={isFocusable:c,focus:s,hasFocus:function(n){return!!(n&&n instanceof Element)&&i===n},list:function(e){return n.forwardList(e||document.body,!0).filter(function(n){return c(n)})},first:d,last:function(e){e=e||document.body;var t=n.bottomLast(e,!0);if(t)return c(t)?t:(t=m(t),n.contains(e,t,!0)?t:null)},parent:function(e){for(;e;)if(e=n.up(e,!0),c(e))return e;return null},child:v,forward:function(n){if(i){var e=h();e&&e!==i&&s(e,n||{})}},backward:function(n){if(i){var e=m();e&&e!==i&&s(e,n||{})}},next:h,previous:m,trap:function(){var n=Array.prototype.slice.call(arguments);if(!(n.length<1||(n=e(n)).some(function(n){return!(n instanceof HTMLElement)})||u.filter(function(e){return e.containers.every(function(e){return n.indexOf(e)>-1})}).length>0)){var t={containers:n,last:d(n[0]),blur:null};u.unshift(t),s(t.last)}},untrap:function(){if(!(u.length<1)){var n=Array.prototype.slice.call(arguments);if(!(n.length<1||(n=e(n)).some(function(n){return!(n instanceof HTMLElement)}))){var t=u.filter(function(e){return e.containers.every(function(e){return n.indexOf(e)>-1})}),r=t&&t.length>0&&u[0]&&u[0]===t[0];u=u.filter(function(e){return!e.containers.every(function(e){return n.indexOf(e)>-1})}),r&&u[0]&&s(u[0].last)}}},order:function(){var n=null;e(arguments).forEach(function(e){if("number"!=typeof e){if(e instanceof HTMLElement){var t=f++;null!==n&&(t=n++),e.setAttribute("tabindex",""+t)}}else n=e})},proxy:function(n,e){if(n&&n instanceof HTMLElement&&e&&e instanceof HTMLElement&&c(e)){w(n,e);var t=n.getAttribute("tabindex")||null;(null===(t=t&&parseInt(t)||null)||t<0)&&n.setAttribute("tabindex",0),a.push({source:n,target:e,sourceTabIndex:t}),i===n&&s(e)}},unproxy:w},Object.defineProperty(window.focusManager,"currentlyFocused",{get:function(){return i}}),Object.defineProperty(window.focusManager,"previouslyFocused",{get:function(){return o||null}}),Object.defineProperty(window.focusManager,"history",{get:function(){return[].concat(t)}}),Object.defineProperty(window.focusManager,"historyLimit",{get:function(){return r},set:function(n){n=parseInt(n),isNaN(n)||n<-1||(r=n)>-1&&(t=t.slice(0,r))}})}}();
