!function(){var n=function(n,e){if(!n)throw new Error("Invalid element.");return n.firstElementChild||e&&n.shadowRoot&&n.shadowRoot.firstElementChild||null},e=n,t=function(n,e){if(!n)throw new Error("Invalid element.");return e&&n.shadowRoot&&n.shadowRoot.lastElementChild||n.lastElementChild||null},r=t,o=function(n,e){if(!n)throw new Error("Invalid element.");return n.parentElement||e&&n.parentNode instanceof DocumentFragment&&n.parentNode.host||null},i=function(n,t){if(!n)throw new Error("Invalid element.");for(;;){var r=e(n,t);if(!r)break;n=r}return n},a=function(n,e){if(!n)throw new Error("Invalid element.");for(;;){var t=r(n,e);if(!t)break;n=t}return n},u=function(n,e){if(!n)throw new Error("Invalid element.");var t=n.firstElementChild||null;if(t)return t;if(e&&n.shadowRoot&&n.shadowRoot.firstElementChild||null)return n.shadowRoot.firstElementChild;if(i=n.nextElementSibling||null)return i;for(var r=n;r=o(r,e);){if(!r||r===n)return null;var i;if(i=r.nextElementSibling)return i}},l=function(n,e){if(!n)throw new Error("Invalid element.");var t=n.previousElementSibling;if(t)return a(t,e);var r=e&&!n.parentElement&&n.parentNode&&n.parentNode instanceof DocumentFragment&&n.parentNode.host||null;return r&&r.lastElementChild?i(r.lastElementChild,e):o(n,e)},f=function(n,e){if(!n)throw new Error("Invalid element.");for(var t=[],r=n;(r=u(r,e))&&r&&r!==n&&n.contains(r);)t.push(r);return t},s={first:n,last:t,up:o,down:n,downLast:t,next:u,forward:u,prev:l,previous:l,backward:l,top:function(n,e){if(!n)throw new Error("Invalid element.");for(;;){var t=o(n,e);if(!t)break;n=t}return n},bottom:i,bottomLast:a,descendants:function n(e,t){if(!e)throw new Error("Invalid element.");var r=[];Array.prototype.slice.call(e.children).forEach(function(e){r=r.concat(e,n(e,t))}),t&&e.shadowRoot&&Array.prototype.slice.call(e.shadowRoot.children).forEach(function(e){r=r.concat(e,n(e,t))});return r},ancestors:function(n,e){if(!n)throw new Error("Invalid element.");for(var t=[],r=n;r&&(r=o(r,e));)t.push(r);return t},forwardList:f,backwardList:function(n,e){if(!n)throw new Error("Invalid element.");return f(n,e).reverse()}};"undefined"!=typeof module&&module&&module.exports&&(module.exports=s),"undefined"!=typeof window&&window&&(window.DOMTraversal=window.DOMTraversal||s)}(),function(){if("undefined"!=typeof window&&!window.focusManager){var n=[],e=50,t=null,r=document.activeElement||null,o=[],i=[],a=null,u=1e6,l=function(n){if(!n)return!1;if(!(n instanceof HTMLElement))return!1;for(var e=window.DOMTraversal.ancestors(n).reverse(),t=0;t<e.length;t++){var r=e[t];if(r&&r instanceof HTMLElement){if(!0===(r.inert||!1))return!1;var o=window.getComputedStyle(r);if("none"===o.display)return!1;if("hidden"===o.visibility)return!1;var i=o.opacity;if((i=i&&parseInt(i)||1)<=0)return!1}}var a=n.getAttribute("tabindex")||null;if(null!==(a=a&&+a)&&a<0)return!1;if(null!==a&&a>=0)return!0;if(n.hasAttribute("disabled",null))return!1;var u=n.tagName;if("BUTTON"===u||"INPUT"===u||"SELECT"===u||"TEXTAREA"===u)return!0;if("A"===u&&(n.hasAttribute("href")||n.hasAttribute("xlink:href")))return!0;if("AUDIO"===u&&n.hasAttribute("controls"))return!0;if("VIDEO"===u&&n.hasAttribute("controls"))return!0;var l=n.getAttribute("contenteditable");return null!==l&&!0===l},f=function(n,e,t){n&&n instanceof Element&&("boolean"==typeof e&&(t=e,e=null),a&&clearTimeout(a),a=null,!0===t?n.focus(e||{}):a=setTimeout(function(){n.focus(e||{})},0))},s=function(n){return window.DOMTraversal.forwardList(window.DOMTraversal.descend(n||document.body,!0),!0).filter(function(n){return l(n)})},c=function(n){var e=s(n);return e&&e.length>0&&e[0]||null},d=function(n){if(n||(n=r),!(n&&n instanceof Element))return null;for(;n;)if((n=window.DOMTraversal.forward(n,!0))&&l(n))return n;return null},w=function(n){if(n||(n=r),!(n&&n instanceof Element))return null;for(;n;)if((n=window.DOMTraversal.backward(n,!0))&&l(n))return n},v=function(n,e){i=i.filter(function(t){return t.source!==n||t.target!==e||(null!==t.sourceTabIndex?n.setAttribute("tabindex",t.sourceTabIndex):n.removeAttribute("tabindex"),!1)})};document.addEventListener("DOMContentLoaded",function(){document.addEventListener("focus",function(t){var a=t.target;if(t.composedPath){var u=t.composedPath();u.length>0&&(a=u[0])}r=a;var l=o[0]||null;l&&(l.last=a),n.unshift(a),e>-1&&(n=n.slice(0,e));for(var s=0;s<i.length;s++){let n=i[s];if(n.source===a)return void f(n.target)}},!0),document.addEventListener("blur",function(n){var e=n.target;if(n.composedPath){var r=n.composedPath();r.length>0&&(e=r[0])}var i=n.relatedTarget;if(i){var a=o[0]||null;if(a&&a.last)if(window.DOMTraversal.ancestors(i).indexOf(a.container)<0)return void f(a.last)}t=e},!0),document.addEventListener("keyup",function(n){if(n.shiftKey&&9===n.keyCode)for(var e=r,t=0;t<i.length;t++){let r=i[t];if(r.source===e||r.target===e)return f(w(r.source)),void n.preventDefault()}},!0)}),window.focusManager={isFocusable:l,focus:f,hasFocus:function(n){return!!(n&&n instanceof Element)&&r===n},list:s,first:c,last:function(n){var e=s(n);return e&&e.length>0&&e[e.length-1]||null},forward:function(n){if(r){var e=d();e&&e!==r&&f(e,n||{})}},backward:function(n){if(r){var e=w();e&&e!==r&&f(e,n||{})}},next:d,previous:w,trap:function(n){if(n&&n instanceof HTMLElement&&!(o.map(function(n){return n.container}).indexOf(n)>-1)){var e={container:n,last:c(n),blur:null};o.unshift(e),f(e.last)}},untrap:function(n){if(n&&n instanceof HTMLElement&&!(o.length<1)){var e=o[0].container===n;o=o.filter(function(e){return e.container!==n}),e&&f(o[0].last)}},order:function(){var n=null;(function(n){if(!n)throw new Error("Missing array.");return n instanceof Array||(n=Array.prototype.slice.call(n)),n.reduce((n,e)=>(e instanceof Array?this.flatten(e).forEach(e=>{n.push(e)}):n.push(e),n),[])})(arguments).forEach(function(e){if("number"!=typeof e){if(e instanceof HTMLElement){let t=u++;null!==n&&(t=n++),e.setAttribute("tabindex",""+t)}}else n=e})},proxy:function(n,e){if(n&&n instanceof HTMLElement&&e&&e instanceof HTMLElement&&l(e)){v(n,e);var t=n.getAttribute("tabindex")||null;(null===(t=t&&parseInt(t)||null)||t<0)&&n.setAttribute("tabindex",0),i.push({source:n,target:e,sourceTabIndex:t}),r===n&&f(e)}},unproxy:v},Object.defineProperty(window.focusManager,"currentlyFocused",{get:function(){return r}}),Object.defineProperty(window.focusManager,"previouslyFocused",{get:function(){return t||null}}),Object.defineProperty(window.focusManager,"history",{get:function(){return[].concat(n)}}),Object.defineProperty(window.focusManager,"historyLimit",{get:function(){return e},set:function(t){t=parseInt(t),isNaN(t)||t<-1||(e=t)>-1&&(n=n.slice(0,e))}})}}();
